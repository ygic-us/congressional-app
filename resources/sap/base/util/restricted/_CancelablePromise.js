/*!
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)
 * Version 2.0.0, see https://github.com/sindresorhus/p-cancelable/tree/v2.0.0
 */
sap.ui.define(function(){'use strict';function _(o,a){var e;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(e=b(o))||a&&o&&typeof o.length==="number"){if(e)o=e;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(x){throw x;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var n=true,p=false,w;return{s:function s(){e=o[Symbol.iterator]();},n:function n(){var x=e.next();n=x.done;return x;},e:function e(x){p=true;w=x;},f:function f(){try{if(!n&&e.return!=null)e.return();}finally{if(p)throw w;}}};}function b(o,a){if(!o)return;if(typeof o==="string")return c(o,a);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(o,a);}function c(a,e){if(e==null||e>a.length)e=a.length;for(var i=0,n=new Array(e);i<e;i++){n[i]=a[i];}return n;}function d(o){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){d=function d(o){return typeof o;};}else{d=function d(o){return o&&typeof Symbol==="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o;};}return d(o);}function f(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function");}}function g(a,p){for(var i=0;i<p.length;i++){var e=p[i];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(a,e.key,e);}}function h(a,p,e){if(p)g(a.prototype,p);if(e)g(a,e);return a;}function j(a,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function");}a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:true,configurable:true}});if(e)u(a,e);}function k(D){var a=s();return function _createSuperInternal(){var S=v(D),e;if(a){var N=v(this).constructor;e=Reflect.construct(S,arguments,N);}else{e=S.apply(this,arguments);}return l(this,e);};}function l(a,e){if(e&&(d(e)==="object"||typeof e==="function")){return e;}return m(a);}function m(a){if(a===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return a;}function q(a){var e=typeof Map==="function"?new Map():undefined;q=function q(a){if(a===null||!t(a))return a;if(typeof a!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof e!=="undefined"){if(e.has(a))return e.get(a);e.set(a,W);}function W(){return r(a,arguments,v(this).constructor);}W.prototype=Object.create(a.prototype,{constructor:{value:W,enumerable:false,writable:true,configurable:true}});return u(W,a);};return q(a);}function r(e,i,n){if(s()){r=Reflect.construct;}else{r=function r(e,i,n){var a=[null];a.push.apply(a,i);var o=Function.bind.apply(e,a);var p=new o();if(n)u(p,n.prototype);return p;};}return r.apply(null,arguments);}function s(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function t(a){return Function.toString.call(a).indexOf("[native code]")!==-1;}function u(o,p){u=Object.setPrototypeOf||function u(o,p){o.__proto__=p;return o;};return u(o,p);}function v(o){v=Object.setPrototypeOf?Object.getPrototypeOf:function v(o){return o.__proto__||Object.getPrototypeOf(o);};return v(o);}var C=function(a){j(C,a);var e=k(C);function C(i){var n;f(this,C);n=e.call(this,i||'Promise was canceled');n.name='CancelError';return n;}h(C,[{key:"isCanceled",get:function get(){return true;}}]);return C;}(q(Error));var P=function(){h(P,null,[{key:"fn",value:function fn(a){return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++){i[n]=arguments[n];}return new P(function(o,p,w){i.push(w);a.apply(void 0,i).then(o,p);});};}}]);function P(e){var a=this;f(this,P);this._cancelHandlers=[];this._isPending=true;this._isCanceled=false;this._rejectOnCancel=true;this._promise=new Promise(function(i,n){a._reject=n;var o=function o(x){a._isPending=false;i(x);};var p=function p(x){a._isPending=false;n(x);};var w=function w(x){if(!a._isPending){throw new Error('The `onCancel` handler was attached after the promise settled.');}a._cancelHandlers.push(x);};Object.defineProperties(w,{shouldReject:{get:function get(){return a._rejectOnCancel;},set:function set(x){a._rejectOnCancel=x;}}});return e(o,p,w);});}h(P,[{key:"then",value:function then(o,a){return this._promise.then(o,a);}},{key:"catch",value:function _catch(o){return this._promise.catch(o);}},{key:"finally",value:function _finally(o){return this._promise.finally(o);}},{key:"cancel",value:function cancel(a){if(!this._isPending||this._isCanceled){return;}if(this._cancelHandlers.length>0){try{var e=_(this._cancelHandlers),i;try{for(e.s();!(i=e.n()).done;){var n=i.value;n();}}catch(o){e.e(o);}finally{e.f();}}catch(p){this._reject(p);}}this._isCanceled=true;if(this._rejectOnCancel){this._reject(new C(a));}}},{key:"isCanceled",get:function get(){return this._isCanceled;}}]);return P;}();Object.setPrototypeOf(P.prototype,Promise.prototype);P.CancelError=C;return P;});
