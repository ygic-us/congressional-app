/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['./Element',"sap/base/assert","sap/base/Log","sap/ui/Device"],function(E,a,L,D){"use strict";var r=/\s/;var b=/\S+/g;var c=DOMTokenList.prototype.add,d=DOMTokenList.prototype.remove;if(D.browser.msie){c=function(){for(var i=0;i<arguments.length;i++){this.add(arguments[i]);}};d=function(){for(var i=0;i<arguments.length;i++){this.remove(arguments[i]);}};}var C=function(){if(!(this instanceof E)){return;}var o=this.clone;this.clone=function(){var e=o.apply(this,arguments);if(this.aCustomStyleClasses){e.aCustomStyleClasses=this.aCustomStyleClasses.slice();}if(this.mCustomStyleClassMap){e.mCustomStyleClassMap=Object.assign(Object.create(null),this.mCustomStyleClassMap);}return e;};this.addStyleClass=function(s,S){a(typeof s==="string","sStyleClass must be a string");if(!s||typeof s!=="string"||s.indexOf("\"")>-1||s.indexOf("'")>-1){return this;}var e=this.aCustomStyleClasses||(this.aCustomStyleClasses=[]),m=this.mCustomStyleClassMap||(this.mCustomStyleClassMap=Object.create(null)),h,M=false,i=[],j=g();function k(l){if(!m[l]){m[l]=true;e.push(l);if(j&&j.indexOf(l)>-1){i.push(l);}M=true;}}if(r.test(s)){h=s.match(b);h&&h.forEach(k);}else{k(s);}if(!M){return this;}var R=this.getDomRef();if(R){if(h){c.apply(R.classList,h);}else{R.classList.add(s);}}else if(S===false){this.invalidate();}if(i.length>0){f(this,i,true);}return this;};this.removeStyleClass=function(s,S){a(typeof s==="string","sStyleClass must be a string");if(!s||typeof s!=="string"||!this.aCustomStyleClasses||!this.mCustomStyleClassMap){return this;}var e=this.aCustomStyleClasses,m=this.mCustomStyleClassMap,h,i=false,j=[],k=g(),n;function l(p){if(m[p]){i=true;n=e.indexOf(p);if(n!==-1){e.splice(n,1);delete m[p];if(k&&k.indexOf(p)>-1){j.push(p);}}}}if(r.test(s)){h=s.match(b);h&&h.forEach(l);}else{l(s);}if(i){var R=this.getDomRef();if(R){if(h){d.apply(R.classList,h);}else{R.classList.remove(s);}}else if(S===false){this.invalidate();}if(j.length>0){f(this,j,false);}}return this;};this.toggleStyleClass=function(s,A){a(typeof s==="string","sStyleClass must be a string");if(s&&typeof s==="string"){if(A===true){this.addStyleClass(s);}else if(A===false){this.removeStyleClass(s);}else if(A===undefined){this.hasStyleClass(s)?this.removeStyleClass(s):this.addStyleClass(s);}else{L.warning(this.toString()+"- toggleStyleClass(): bAdd should be a boolean or undefined, but is '"+A+"'");}}return this;};this.hasStyleClass=function(s){a(typeof s==="string","sStyleClass must be a string");if(s&&typeof s==="string"&&this.mCustomStyleClassMap){if(r.test(s)){var e=s.match(b);return e!=null&&e.every(function(h){return this.mCustomStyleClassMap[h];},this);}else{return!!this.mCustomStyleClassMap[s];}}return false;};this.getMetadata().addPublicMethods(["addStyleClass","removeStyleClass","toggleStyleClass","hasStyleClass"]);};var P;function g(){if(!P){P=sap.ui.require("sap/ui/core/theming/Parameters");}if(P){return P._getScopes(true);}}function f(e,s,i){sap.ui.getCore().fireThemeScopingChanged({scopes:s,added:i,element:e});}return C;},true);
